// organize-imports-ignore
import React from 'react'
import { Img } from '@react-email/components'
import type { BlockRendererServerProps } from '../../types.js'

const placeholderImage =
  'data:image/jpeg;base64,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'

export const ImageBlockServer = (props: BlockRendererServerProps) => {
  const { block } = props
  if (block.blockType !== 'image') {
    return null
  }
  const { image, width, height, objectFit, style } = block

  const src =
    typeof image === 'string' || !image?.url || typeof image.url !== 'string'
      ? placeholderImage
      : image?.url

  return (
    <Img
      src={src}
      alt={block.alt}
      width={width || '100%'}
      height={height || 'auto'}
      style={{
        objectFit: objectFit || 'cover',
        borderRadius: '10px',
        ...style,
      }}
    />
  )
}
